*{box-sizing:border-box;margin:0;padding:0}html,body{height:100%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;background:linear-gradient(135deg,#fce4ec 0%,#f8bbd0 30%,#f48fb1 70%,#f06292 100%);color:#880e4f;overflow:hidden}body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app{height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;position:relative}.background-decoration{position:fixed;pointer-events:none;opacity:.15;font-size:0;animation:float 8s ease-in-out infinite;z-index:0}.bg-flower-1{top:10%;left:5%;font-size:80px;animation-delay:0s}.bg-flower-2{bottom:20%;right:8%;font-size:90px;animation-delay:1s}.bg-flower-3{top:30%;right:10%;font-size:70px;animation-delay:2s}.bg-flower-4{bottom:30%;left:6%;font-size:75px;animation-delay:3s}.bg-heart-1{top:15%;right:15%;font-size:60px;animation-delay:0.5s}.bg-heart-2{bottom:25%;right:20%;font-size:65px;animation-delay:1.5s}.bg-heart-3{top:50%;left:8%;font-size:55px;animation-delay:2.5s}.bg-heart-4{bottom:15%;left:15%;font-size:60px;animation-delay:3.5s}.bg-bouquet-1{top:25%;left:12%;font-size:85px;animation-delay:1.2s}.bg-bouquet-2{bottom:40%;right:12%;font-size:80px;animation-delay:2.2s}.bg-spark-1{top:60%;right:5%;font-size:50px;animation-delay:0.8s}.bg-spark-2{bottom:50%;left:3%;font-size:45px;animation-delay:1.8s}.bg-gift-1{top:35%;left:3%;font-size:70px;animation-delay:1.5s}.bg-gift-2{bottom:35%;right:5%;font-size:75px;animation-delay:2.8s}@keyframes float{0%,100%{transform:translateY(0) rotate(0deg)}50%{transform:translateY(-20px) rotate(5deg)}}@keyframes engagingFloat{0%,100%{transform:translateY(0) rotate(0deg) scale(1)}50%{transform:translateY(-25px) rotate(8deg) scale(1.05)}}.app::before{content:"♡";position:fixed;top:8%;left:5%;font-size:80px;opacity:.08;animation:engagingFloat 8s ease-in-out infinite;will-change:transform}.app::after{content:"♡";position:fixed;bottom:10%;right:8%;font-size:100px;opacity:.06;animation:engagingFloat 10s ease-in-out infinite 1s;will-change:transform}.scene{perspective:1200px;transform:translateZ(0)}.envelope-wrapper{width:min(70vw,900px);aspect-ratio:16/10;position:relative;cursor:pointer;filter:drop-shadow(0 20px 60px rgba(233,30,99,.2));will-change:transform;transform:translateZ(0);transition:all 0.8s cubic-bezier(.33,.66,.66,1);animation:envelopeBreathe 4s ease-in-out infinite}.envelope-wrapper.hidden{opacity:0;transform:scale(0.8)}.envelope-wrapper:hover{transform:translateY(-12px) scale(1.02);filter:drop-shadow(0 30px 80px rgba(233,30,99,.35));transition:transform .3s cubic-bezier(.25,.46,.45,.94),filter .3s ease}.envelope-wrapper:focus{outline:2px solid #d4af37;outline-offset:4px}.envelope-3d{position:relative;width:100%;height:100%;transform-style:preserve-3d;will-change:transform}.envelope-front{position:relative;width:100%;height:100%;background:linear-gradient(to bottom,#f5e6d3 0%,#f0d9c6 100%);border-radius:0 0 8px 8px;border:3px solid #d4af37;border-top:none;box-shadow:inset -2px -2px 8px rgba(0,0,0,.1),inset 2px 2px 8px rgba(255,255,255,.3);overflow:hidden;transform:translateZ(0)}.envelope-front::before{content:"";position:absolute;inset:0;background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><defs><pattern id="texture" x="0" y="0" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="1" fill="rgba(0,0,0,.02)"/></pattern></defs><rect width="100" height="100" fill="url(%23texture)"/></svg>');pointer-events:none;opacity:.5}.flap{position:absolute;top:-55%;left:0;right:0;height:65%;background:linear-gradient(135deg,#ec407a 0%,#e91e63 50%,#d81b60 100%);border:3px solid #d4af37;border-bottom:none;border-radius:50% 50% 0 0;transform-origin:50% 100%;transform:rotateX(0deg);box-shadow:0 -8px 30px rgba(233,30,99,.3),inset 0 2px 10px rgba(255,255,255,.2),inset 0 -2px 10px rgba(0,0,0,.15);backface-visibility:hidden;transform-style:preserve-3d;will-change:transform;z-index:10;animation:flapGlow 3s ease-in-out infinite}.flap::before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.15) 0%,transparent 50%);border-radius:50% 50% 0 0;pointer-events:none}.flap-inner{position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center}.flap-decoration{font-size:120px;color:#fff;opacity:.95;text-shadow:0 3px 10px rgba(0,0,0,.2);animation:heartbeat 2.5s ease-in-out infinite;will-change:transform}@keyframes heartbeat{0%,100%{transform:scale(1)}50%{transform:scale(1.08)}}@keyframes textPulse{0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.08);opacity:.95}}@keyframes shimmer{0%,100%{filter:drop-shadow(0 0 2px rgba(212,175,55,.3))}50%{filter:drop-shadow(0 0 12px rgba(212,175,55,.8))}}@keyframes envelopeBreathe{0%,100%{transform:translateY(0) scale(1)}50%{transform:translateY(-4px) scale(1.01)}}@keyframes fadeInSlide{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}@keyframes flapGlow{0%,100%{box-shadow:0 -8px 30px rgba(233,30,99,.3),inset 0 2px 10px rgba(255,255,255,.2),inset 0 -2px 10px rgba(0,0,0,.15)}50%{box-shadow:0 -15px 45px rgba(233,30,99,.5),inset 0 2px 10px rgba(255,255,255,.3),inset 0 -2px 10px rgba(0,0,0,.1)}}.envelope-lines{position:absolute;top:0;left:0;right:0;height:60%;border-top:2px solid #d4af37;border-bottom:2px solid rgba(212,175,55,.3);pointer-events:none}.envelope-stamp{position:absolute;top:15%;right:8%;width:120px;height:80px;border:3px dashed #d4af37;border-radius:4px;background:linear-gradient(135deg,#e91e63,#ff69b4);opacity:.8;box-shadow:0 4px 12px rgba(233,30,99,.2);pointer-events:none;animation:shimmer 3s ease-in-out infinite}.envelope-top-right-img{position:absolute;top:8%;right:8%;width:140px;height:140px;object-fit:cover;border-radius:12px;box-shadow:0 6px 16px rgba(233,30,99,.3);pointer-events:none;animation:float 4s ease-in-out infinite}.address-area{position:absolute;bottom:20%;left:50%;transform:translateX(-50%);width:70%;display:flex;flex-direction:column;gap:8px;pointer-events:none}.address-line{height:auto;width:100%;border-radius:1px;font-size:28px;font-weight:700;color:#d81b60;text-align:center;letter-spacing:2px;font-family:Georgia,serif;border-bottom:3px solid #d81b60;padding-bottom:12px;display:flex;justify-content:center;align-items:center;animation:fadeInSlide 1.2s ease-out}.address-line:nth-child(1){width:100%;opacity:1}.address-line:nth-child(2){width:100%;opacity:.7;border-bottom:none;padding-bottom:0}.recipient-text{position:absolute;top:15%;left:12%;transform:none;font-size:72px;font-weight:700;color:#d81b60;letter-spacing:2px;font-style:italic;text-shadow:0 2px 4px rgba(0,0,0,.1);pointer-events:none;font-family:Georgia,serif;animation:textPulse 2.5s ease-in-out infinite}.design-left{position:absolute;left:2%;top:50%;transform:translateY(-50%);font-size:48px;opacity:.6;pointer-events:none;animation:float 6s ease-in-out infinite}.design-right{position:absolute;right:2%;top:50%;transform:translateY(-50%);font-size:48px;opacity:.6;pointer-events:none;animation:float 6.5s ease-in-out infinite}.design-corner{position:absolute;font-size:32px;opacity:.5;pointer-events:none}.design-corner.tl{top:8%;left:8%}.design-corner.tr{top:8%;right:8%}.design-corner.bl{bottom:8%;left:8%}.design-corner.br{bottom:8%;right:8%}.design-top-left{position:absolute;top:15%;left:15%;font-size:24px;opacity:.6;pointer-events:none;animation:float 5s ease-in-out infinite}.design-top-right{position:absolute;top:15%;right:15%;font-size:24px;opacity:.6;pointer-events:none;animation:float 5.5s ease-in-out infinite}.design-bottom-left{position:absolute;bottom:15%;left:15%;font-size:24px;opacity:.6;pointer-events:none;animation:float 6s ease-in-out infinite}.design-bottom-right{position:absolute;bottom:15%;right:15%;font-size:24px;opacity:.6;pointer-events:none;animation:float 6.5s ease-in-out infinite}.design-center-left{position:absolute;left:5%;top:50%;transform:translateY(-50%);font-size:28px;opacity:.5;pointer-events:none;animation:float 7s ease-in-out infinite}.design-center-right{position:absolute;right:5%;top:50%;transform:translateY(-50%);font-size:28px;opacity:.5;pointer-events:none;animation:float 7.5s ease-in-out infinite}.design-top{position:absolute;top:5%;left:50%;transform:translateX(-50%);font-size:32px;opacity:.6;pointer-events:none;animation:float 4.5s ease-in-out infinite}.design-bottom{position:absolute;bottom:5%;left:50%;transform:translateX(-50%);font-size:32px;opacity:.6;pointer-events:none;animation:float 5s ease-in-out infinite}.design-extra-1{position:absolute;top:12%;left:20%;font-size:26px;opacity:.5;pointer-events:none;animation:float 4.2s ease-in-out infinite}.design-extra-2{position:absolute;top:12%;right:20%;font-size:26px;opacity:.5;pointer-events:none;animation:float 4.8s ease-in-out infinite}.design-extra-3{position:absolute;bottom:12%;left:22%;font-size:26px;opacity:.5;pointer-events:none;animation:float 5.5s ease-in-out infinite}.design-extra-4{position:absolute;bottom:12%;right:22%;font-size:26px;opacity:.5;pointer-events:none;animation:float 6.2s ease-in-out infinite}.design-extra-5{position:absolute;top:45%;left:3%;font-size:52px;opacity:.6;pointer-events:none;animation:float 5.8s ease-in-out infinite}.design-extra-6{position:absolute;top:45%;right:3%;font-size:52px;opacity:.6;pointer-events:none;animation:float 6.8s ease-in-out infinite}.design-center-bouquet{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:72px;opacity:.7;pointer-events:none;animation:float 6s ease-in-out infinite}.design-line-top{position:absolute;top:25%;left:15%;right:15%;height:2px;background:linear-gradient(90deg,transparent,#d81b60,transparent);opacity:0;pointer-events:none}.design-line-bottom{position:absolute;bottom:28%;left:15%;right:15%;height:2px;background:linear-gradient(90deg,transparent,#d81b60,transparent);opacity:.3;pointer-events:none}.body{position:absolute;inset:0;background:linear-gradient(to bottom,#f5e6d3 0%,#f0d9c6 100%);border-radius:0 0 8px 8px;border:3px solid #d4af37;border-top:none;display:flex;align-items:center;justify-content:center;box-shadow:0 12px 40px rgba(233,30,99,.2),inset 0 1px 2px rgba(255,255,255,.3);z-index:1}.letter-container{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;opacity:0;transform:translateY(100%) scale(.8);pointer-events:none;will-change:opacity,transform;z-index:5;visibility:hidden}.letter{width:85%;height:85%;background:linear-gradient(135deg,#fff 0%,#fffbf5 100%);border:3px solid #d4af37;border-radius:8px;padding:48px;display:flex;align-items:center;justify-content:center;box-shadow:0 10px 30px rgba(233,30,99,.15),inset 0 1px 3px rgba(255,255,255,.5);position:relative;overflow:hidden;backface-visibility:hidden}.letter::before{content:"";position:absolute;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(212,175,55,.03) 2px,rgba(212,175,55,.03) 4px);pointer-events:none}.letter::after{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#d4af37 0%,rgba(212,175,55,.5) 50%,#d4af37 100%);pointer-events:none}.content{width:100%;text-align:center;position:relative;z-index:1}.content h1{font-size:52px;font-weight:700;margin-bottom:20px;color:#d81b60;letter-spacing:-1px}.content p{font-size:20px;line-height:1.8;color:#ad1457;font-weight:500}@keyframes slideIn{0%{opacity:0;transform:translateY(-100%)}100%{opacity:1;transform:translateY(0)}}@keyframes slideOut{0%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(-100%)}}@keyframes envelopeFadeOut{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}@keyframes envelopeFadeIn{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes paperFold{0%{opacity:1;transform:scale(1) rotateX(0deg)}50%{transform:scale(0.95) rotateX(20deg)}100%{opacity:0;transform:scale(0.6) rotateX(45deg) translateY(-50px)}}.letter-section{position:fixed;inset:0;background:transparent;display:flex;align-items:flex-start;justify-content:center;padding-top:80px;opacity:0;transform:translateY(-100%);z-index:100;pointer-events:none}.letter-section.visible{opacity:1;transform:translateY(0);pointer-events:auto;animation:slideIn 1.2s cubic-bezier(.33,.66,.66,1)}.letter-section.closing{animation:paperFold 1s cubic-bezier(.33,.66,.66,1) forwards}.letter-full{position:relative;width:min(98vw,1050px);background:linear-gradient(135deg,#fff 0%,#fffbf5 100%);border:4px solid #d4af37;border-radius:12px;padding:60px 48px;box-shadow:0 20px 60px rgba(233,30,99,.3),inset 0 1px 3px rgba(255,255,255,.5);max-height:75vh;overflow-y:auto;animation:slideIn 1.2s cubic-bezier(.33,.66,.66,1)}.letter-section.closing .letter-full{animation:paperFold 1s cubic-bezier(.33,.66,.66,1) forwards}.letter-full::before{content:"";position:absolute;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(212,175,55,.03) 2px,rgba(212,175,55,.03) 4px);pointer-events:none;border-radius:12px}.letter-full::after{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#d4af37 0%,rgba(212,175,55,.5) 50%,#d4af37 100%);pointer-events:none;border-radius:12px 12px 0 0}.close-letter{position:absolute;top:20px;right:20px;appearance:none;border:none;background:rgba(233,30,99,.1);color:#d81b60;font-size:28px;width:40px;height:40px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all 0.3s ease;z-index:101;font-weight:700}.close-letter:hover{background:rgba(233,30,99,.2);transform:rotate(90deg)}.letter-content{position:relative;z-index:1;text-align:center}.letter-background-design{position:absolute;pointer-events:none;opacity:.35;font-size:0;animation:float 6s ease-in-out infinite}.letter-bg-1{top:10%;left:5%;font-size:48px;animation-delay:0s}.letter-bg-2{top:10%;right:5%;font-size:48px;animation-delay:0.5s}.letter-bg-3{top:25%;left:8%;font-size:40px;animation-delay:1s}.letter-bg-4{top:25%;right:8%;font-size:40px;animation-delay:1.5s}.letter-bg-5{top:40%;left:4%;font-size:36px;animation-delay:2s}.letter-bg-6{top:40%;right:4%;font-size:36px;animation-delay:2.5s}.letter-bg-7{top:55%;left:10%;font-size:44px;animation-delay:3s}.letter-bg-8{top:55%;right:10%;font-size:44px;animation-delay:3.5s}.letter-bg-9{top:70%;left:6%;font-size:40px;animation-delay:4s}.letter-bg-10{top:70%;right:6%;font-size:40px;animation-delay:4.5s}.letter-bg-11{bottom:15%;left:12%;font-size:32px;animation-delay:5s}.letter-bg-12{bottom:15%;right:12%;font-size:32px;animation-delay:5.5s}.letter-bg-13{bottom:5%;left:8%;font-size:38px;animation-delay:6s}.letter-bg-14{bottom:5%;right:8%;font-size:38px;animation-delay:6.5s}.letter-content h2{font-size:60px;font-weight:700;margin-bottom:30px;color:#d81b60;letter-spacing:-1px}.letter-content p{font-size:24px;line-height:1.9;color:#ad1457;font-weight:500}.valentine-heart-bg{position:absolute;width:400px;height:400px;top:50%;left:50%;transform:translate(-50%,-50%);object-fit:cover;opacity:.15;pointer-events:none;z-index:0}.valentine-heart{width:220px;height:220px;margin:25px auto;display:block;object-fit:cover;box-shadow:0 10px 25px rgba(233,30,99,.5);transition:transform .3s ease}.valentine-heart:hover{transform:scale(1.05)}.bouquet-btn{appearance:none;border:none;padding:12px 28px;border-radius:25px;background:linear-gradient(135deg,#e91e63,#c2185b);color:#fff;font-size:15px;font-weight:700;cursor:pointer;box-shadow:0 6px 20px rgba(233,30,99,.3);transition:all .3s cubic-bezier(.25,.46,.45,.94);border:2px solid #d4af37;margin-top:20px;user-select:none}.bouquet-btn:hover{transform:translateY(-3px);box-shadow:0 10px 28px rgba(233,30,99,.4)}.bouquet-btn:active{transform:translateY(-1px)}.bouquet-display{position:fixed;inset:0;background:rgba(0,0,0,.85);display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;z-index:400;transition:opacity .5s ease}.bouquet-display.visible{opacity:1;pointer-events:auto}.bouquet-overlay{position:relative;text-align:center;cursor:pointer;animation:slideIn 1.2s cubic-bezier(.33,.66,.66,1);display:flex;align-items:center;justify-content:center;width:100%;height:100%;min-height:100vh}.huge-bouquet{font-size:420px;animation:float 5s ease-in-out infinite;filter:drop-shadow(0 0 30px rgba(233,30,99,.5));z-index:10;position:relative}.flower-circle{position:absolute;width:900px;height:900px;top:50%;left:50%;transform:translate(-50%,-50%)}.heart-circle{position:absolute;width:900px;height:900px;top:50%;left:50%;transform:translate(-50%,-50%)}.petal-flower{position:absolute;font-size:64px;cursor:pointer;transition:all .3s ease;animation:float 4s ease-in-out infinite;z-index:5;top:50%;left:50%}.petal-heart{position:absolute;cursor:pointer;transition:all .3s ease;animation:float 4s ease-in-out infinite;z-index:5;top:50%;left:50%;width:80px;height:80px;display:flex;align-items:center;justify-content:center}.petal-heart:hover .heart-img{transform:scale(1.2)}.heart-img{width:100%;height:100%;object-fit:contain;border-radius:50%;transition:all .3s ease;filter:drop-shadow(0 0 8px rgba(233,30,99,.6))}.petal-1{animation-delay:0s;transform:translate(-50%,-50%) rotate(0deg) translateY(-420px)}.petal-2{animation-delay:.1s;transform:translate(-50%,-50%) rotate(25.7deg) translateY(-420px)}.petal-3{animation-delay:.2s;transform:translate(-50%,-50%) rotate(51.4deg) translateY(-420px)}.petal-4{animation-delay:.3s;transform:translate(-50%,-50%) rotate(77.1deg) translateY(-420px)}.petal-5{animation-delay:.4s;transform:translate(-50%,-50%) rotate(102.8deg) translateY(-420px)}.petal-6{animation-delay:.5s;transform:translate(-50%,-50%) rotate(128.5deg) translateY(-420px)}.petal-7{animation-delay:.6s;transform:translate(-50%,-50%) rotate(154.2deg) translateY(-420px)}.petal-8{animation-delay:.7s;transform:translate(-50%,-50%) rotate(180deg) translateY(-420px)}.petal-9{animation-delay:.8s;transform:translate(-50%,-50%) rotate(205.7deg) translateY(-420px)}.petal-10{animation-delay:.9s;transform:translate(-50%,-50%) rotate(231.4deg) translateY(-420px)}.petal-11{animation-delay:1s;transform:translate(-50%,-50%) rotate(257.1deg) translateY(-420px)}.petal-12{animation-delay:1.1s;transform:translate(-50%,-50%) rotate(282.8deg) translateY(-420px)}.petal-13{animation-delay:1.2s;transform:translate(-50%,-50%) rotate(308.5deg) translateY(-420px)}.petal-14{animation-delay:1.3s;transform:translate(-50%,-50%) rotate(334.2deg) translateY(-420px)}.heart-image-display{position:fixed;inset:0;background:rgba(0,0,0,.9);display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;z-index:500;transition:opacity .5s ease}.heart-image-display.visible{opacity:1;pointer-events:auto}.heart-image-container{position:relative;text-align:center;cursor:pointer;animation:slideIn 1.2s cubic-bezier(.33,.66,.66,1)}.heart-image{max-width:90vw;max-height:90vh;width:auto;height:auto;filter:drop-shadow(0 0 40px rgba(233,30,99,.8))}@media (max-width:768px){.letter-full{padding:40px 32px}.letter-content h2{font-size:40px;margin-bottom:20px}.letter-content p{font-size:18px}.close-letter{width:36px;height:36px;font-size:24px}}@media (max-width:520px){.letter-full{padding:32px 24px}.letter-content h2{font-size:32px;margin-bottom:16px}.letter-content p{font-size:16px;line-height:1.7}}@keyframes flapClose{0%{transform:rotateX(-200deg) rotateZ(-50deg) translateY(-100px) scaleX(1.1)}25%{transform:rotateX(-160deg) rotateZ(-40deg) translateY(-60px)}50%{transform:rotateX(-110deg) rotateZ(-25deg) translateY(-30px)}80%{transform:rotateX(-40deg) rotateZ(-5deg)}100%{transform:rotateX(0deg) rotateZ(0deg)}}@keyframes flapOpen{0%{transform:rotateX(0deg) rotateZ(0deg)}20%{transform:rotateX(-40deg) rotateZ(-5deg)}50%{transform:rotateX(-110deg) rotateZ(-25deg) translateY(-30px)}75%{transform:rotateX(-160deg) rotateZ(-40deg) translateY(-60px)}100%{transform:rotateX(-200deg) rotateZ(-50deg) translateY(-100px) scaleX(1.1)}}@keyframes flapOpen{0%{transform:rotateX(0deg) rotateZ(0deg)}20%{transform:rotateX(-40deg) rotateZ(-5deg)}50%{transform:rotateX(-110deg) rotateZ(-25deg) translateY(-30px)}75%{transform:rotateX(-160deg) rotateZ(-40deg) translateY(-60px)}100%{transform:rotateX(-200deg) rotateZ(-50deg) translateY(-100px) scaleX(1.1)}}@keyframes flapClose{0%{transform:rotateX(-200deg) rotateZ(-50deg) translateY(-100px) scaleX(1.1)}25%{transform:rotateX(-160deg) rotateZ(-40deg) translateY(-60px)}50%{transform:rotateX(-110deg) rotateZ(-25deg) translateY(-30px)}80%{transform:rotateX(-40deg) rotateZ(-5deg)}100%{transform:rotateX(0deg) rotateZ(0deg)}}@keyframes letterRise{0%{opacity:0;transform:translateY(100%) scale(.8)}35%{opacity:.3;transform:translateY(70%) scale(.88)}70%{opacity:.9;transform:translateY(10%) scale(1.02)}100%{opacity:1;transform:translateY(0) scale(1)}}@keyframes letterSink{0%{opacity:1;transform:translateY(0) scale(1)}30%{opacity:.9;transform:translateY(10%) scale(1.02)}65%{opacity:.3;transform:translateY(70%) scale(.88)}100%{opacity:0;transform:translateY(100%) scale(.8)}}.envelope-wrapper.open .flap{animation:flapOpen 1.8s cubic-bezier(.33,.66,.66,1) forwards}.envelope-wrapper:not(.open) .flap{animation:flapClose 1.6s cubic-bezier(.33,.66,.66,1) forwards}.envelope-wrapper:not(.open) .letter-container{pointer-events:none}.envelope-wrapper.open .letter-container{pointer-events:auto}.footer{display:flex;flex-direction:column;align-items:center;gap:12px;margin-top:40px;z-index:10}button{appearance:none;border:none;padding:18px 48px;border-radius:12px;background:linear-gradient(135deg,#e91e63,#c2185b);color:#fff;font-size:17px;font-weight:700;cursor:pointer;box-shadow:0 10px 30px rgba(233,30,99,.35),0 5px 15px rgba(0,0,0,.15);transition:all .3s cubic-bezier(.25,.46,.45,.94);letter-spacing:.5px;user-select:none;border:2px solid #d4af37;will-change:transform,box-shadow}button:hover{transform:translateY(-4px);box-shadow:0 15px 40px rgba(233,30,99,.4),0 8px 20px rgba(0,0,0,.2)}button:active{transform:translateY(-2px)}.subtitle{font-size:14px;color:#ad1457;font-weight:600;letter-spacing:.5px}#confettiCanvas{position:fixed;inset:0;width:100%;height:100%;pointer-events:none}.flower-button{position:fixed;bottom:40px;right:40px;appearance:none;border:none;padding:16px 32px;border-radius:50px;background:linear-gradient(135deg,#ff1744,#e91e63);color:#fff;font-size:16px;font-weight:700;cursor:pointer;box-shadow:0 8px 24px rgba(233,30,99,.4);transition:all .3s cubic-bezier(.25,.46,.45,.94);border:2px solid #d4af37;z-index:50;animation:float 3s ease-in-out infinite;display:none}.flower-button.visible{display:block}.flower-button:hover{transform:translateY(-4px);box-shadow:0 12px 32px rgba(233,30,99,.5)}.flower-button:active{transform:translateY(-2px)}.flower-modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;z-index:200;transition:opacity .4s ease}.flower-modal.visible{opacity:1;pointer-events:auto}.flower-modal-content{position:relative;background:linear-gradient(135deg,#fff 0%,#fffbf5 100%);border:4px solid #d4af37;border-radius:20px;padding:60px;box-shadow:0 30px 80px rgba(233,30,99,.4);max-width:600px;max-height:90vh;overflow-y:auto}.bouquet-container{display:grid;grid-template-columns:repeat(4,1fr);gap:30px;justify-items:center;align-items:center}.flower{font-size:56px;cursor:pointer;transition:all .3s ease;transform-origin:center;animation:float 4s ease-in-out infinite}.flower:hover{transform:scale(1.3) rotate(10deg)}.flower-1{animation-delay:0s}.flower-2{animation-delay:.1s}.flower-3{animation-delay:.2s}.flower-4{animation-delay:.3s}.flower-5{animation-delay:.4s}.flower-6{animation-delay:.5s}.flower-7{animation-delay:.6s}.flower-8{animation-delay:.7s}.flower-9{animation-delay:.8s}.flower-10{animation-delay:.9s}.flower-11{animation-delay:1s}.flower-12{animation-delay:1.1s}.flower-13{animation-delay:1.2s}.flower-14{animation-delay:1.3s}.heart-display{position:fixed;inset:0;background:rgba(0,0,0,.8);display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;z-index:300;transition:opacity .5s ease}.heart-display.visible{opacity:1;pointer-events:auto}.heart-container{position:relative;text-align:center;cursor:pointer;animation:slideIn 1.2s cubic-bezier(.33,.66,.66,1)}.big-heart{font-size:180px;animation:heartbeat 1.2s ease-in-out infinite;filter:drop-shadow(0 0 20px rgba(233,30,99,.6))}.heart-message{font-size:36px;color:#fff;margin-top:30px;font-weight:700;letter-spacing:2px;animation:slideIn 1.5s cubic-bezier(.33,.66,.66,1)}@keyframes heartbeat{0%,100%{transform:scale(1)}50%{transform:scale(1.15)}}@media (max-width:768px){.flower-button{bottom:20px;right:20px;padding:12px 24px;font-size:14px}.flower-modal-content{padding:40px}.bouquet-container{grid-template-columns:repeat(3,1fr);gap:20px}.flower{font-size:44px}.big-heart{font-size:120px}.heart-message{font-size:24px}}@media (max-width:520px){.flower-button{bottom:15px;right:15px;padding:10px 20px;font-size:12px}.flower-modal-content{padding:30px}.bouquet-container{grid-template-columns:repeat(2,1fr);gap:15px}.flower{font-size:36px}.big-heart{font-size:100px}.heart-message{font-size:18px}}@media (max-width:768px){.envelope-wrapper{width:95vw;aspect-ratio:16/11}.letter{padding:32px}.content h1{font-size:36px}.content p{font-size:16px}.envelope-stamp{width:100px;height:70px;top:12%}.address-area{width:75%;bottom:15%}.recipient-text{font-size:22px;top:12%;left:10%;transform:none}button{padding:14px 36px;font-size:15px}}@media (max-width:520px){.envelope-wrapper{width:95vw;aspect-ratio:16/12}.letter{padding:24px}.content h1{font-size:28px;margin-bottom:12px}.content p{font-size:14px;line-height:1.6}.flap-decoration{font-size:80px}.envelope-stamp{width:90px;height:60px;top:10%;right:6%}.recipient-text{font-size:18px;top:10%;left:8%;transform:none}button{padding:12px 28px;font-size:13px}.subtitle{font-size:12px}}
/* Override: add user-provided background image layered under the gradient */
html,body{background:linear-gradient(135deg,#fce4ec 0%,#f8bbd0 30%,#f48fb1 70%,#f06292 100%);color:#880e4f;overflow:hidden}

/* Memories modal styles */
.memories-modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:600;pointer-events:none;opacity:0;transition:opacity .25s ease}
.memories-modal.visible{pointer-events:auto;opacity:1}
.memories-overlay{position:fixed;inset:0;background:rgba(0,0,0,.75);display:flex;align-items:center;justify-content:center}
.memories-content{width:min(92vw,900px);max-height:86vh;overflow-y:auto;background:linear-gradient(135deg,#fff 0%,#fffbf5 100%);border:4px solid #d4af37;border-radius:14px;padding:28px;position:relative;box-shadow:0 30px 80px rgba(233,30,99,.4)}
.memories-content h3{margin:0 0 12px 0;color:#d81b60;font-size:28px}
.memories-controls{display:flex;gap:12px;align-items:center;margin-bottom:14px}
.capacity-display{font-size:13px;font-weight:600;color:#d81b60;padding:6px 12px;background:rgba(233,30,99,.08);border-radius:6px;min-width:50px;text-align:center}
.memories-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:12px;justify-items:center;align-items:center;position:relative}
.memories-bouquet{grid-column:4;grid-row:3;align-self:center;justify-self:center;font-size:56px;z-index:2;pointer-events:none;transform:translateY(-6%)}
.memories-item{position:relative;border-radius:12px;overflow:hidden;background:#fff;padding:6px;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;aspect-ratio:1/1}
.memories-item .img-wrap{flex:1;position:relative;display:block}
.memories-item img{width:100%;height:100%;object-fit:cover;display:block;border-radius:6px}
.memories-caption{min-height:36px;padding:6px 8px;text-align:center;font-size:14px;color:#880e4f;background:rgba(255,255,255,0.9);border-top:1px solid rgba(0,0,0,0.04);outline:none;cursor:text}
.memories-caption:empty:before{content:'Add caption';color:#ad1457;font-style:italic}
.remove-image{display:none}
.memories-item img{cursor:pointer;transition:opacity .2s ease}
.memories-item img:hover{opacity:.85}
.image-edit-modal{position:fixed;inset:0;background:rgba(0,0,0,.75);display:flex;align-items:center;justify-content:center;z-index:700;opacity:0;pointer-events:none;transition:opacity .3s ease}
.image-edit-modal.visible{opacity:1;pointer-events:auto}
.image-edit-content{background:linear-gradient(135deg,#fff 0%,#fffbf5 100%);border:4px solid #d4af37;border-radius:14px;padding:28px;position:relative;box-shadow:0 30px 80px rgba(233,30,99,.4);width:min(90vw,500px);max-height:85vh;overflow-y:auto}
.image-edit-content h3{margin:0 0 20px 0;color:#d81b60;font-size:26px}
.image-edit-form{display:flex;flex-direction:column;gap:16px}
.form-group{display:flex;flex-direction:column;gap:8px}
.form-group label{font-size:14px;font-weight:600;color:#ad1457}
.form-group input{padding:10px;border:2px solid #d4af37;border-radius:6px;font-size:14px;font-family:inherit;color:#880e4f}
.form-group input:focus{outline:none;border-color:#e91e63;box-shadow:0 0 0 2px rgba(233,30,99,.1)}
.form-buttons{display:flex;gap:12px;margin-top:8px}
.form-buttons button{flex:1;padding:12px 16px;border:none;border-radius:6px;font-size:14px;font-weight:700;cursor:pointer;transition:all .3s ease}
.form-buttons .btn-save{background:linear-gradient(135deg,#e91e63,#c2185b);color:#fff;border:2px solid #d4af37}
.form-buttons .btn-save:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(233,30,99,.3)}
.form-buttons .btn-replace{background:linear-gradient(135deg,#ff9800,#f57c00);color:#fff}
.form-buttons .btn-replace:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(255,152,0,.3)}
.form-buttons .btn-delete{background:linear-gradient(135deg,#f44336,#d32f2f);color:#fff}
.form-buttons .btn-delete:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(244,67,54,.3)}
.close-edit-modal{position:absolute;top:10px;right:10px;appearance:none;border:none;background:rgba(233,30,99,.08);color:#d81b60;font-size:28px;width:44px;height:44px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center}
.close-memories{position:absolute;top:10px;right:10px;appearance:none;border:none;background:rgba(233,30,99,.08);color:#d81b60;font-size:28px;width:44px;height:44px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center}
